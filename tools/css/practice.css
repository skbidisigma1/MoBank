.practice-container {
	padding-top: 2rem;
	padding-bottom: 4rem;
}

.practice-header {
	margin-bottom: 1.75rem;
	text-align: left;
}

.practice-layout {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	grid-template-areas:
		"session session"
		"summary manual"
		"recent recent";
	gap: 1.75rem;
	align-items: start;
}

/* map cards to grid areas */
#session-card { grid-area: session; }
#summary-card { grid-area: summary; }
#manual-log-card { grid-area: manual; }
#recent-card { grid-area: recent; }

@media (max-width: 900px) {
	.practice-layout {
		grid-template-columns: 1fr;
		grid-template-areas:
			"session"
			"summary"
			"manual"
			"recent";
	}
}

.card {
	background: var(--container-color);
	border-radius: 14px;
	padding: 1.25rem 1.4rem 1.4rem;
	box-shadow: 0 4px 14px rgba(0,0,0,.08);
	border: 1px solid var(--color-border);
	position: relative;
}
@media (min-width: 1100px) {
	.card { padding: 1.55rem 1.8rem 1.75rem; }
}

.card-header { display: flex; align-items: center; justify-content: space-between; gap: .75rem; margin-bottom: 1rem; }
.card-title { font-size: 1.15rem; font-weight: 600; margin: 0; }

.summary-card { display: flex; flex-direction: column; }
.summary-card .summary-body { flex: 1; }

/* session card */
.session-card .timer-display {
	font-family: var(--font-tech, monospace);
	font-size: clamp(2.45rem, 4.8vw, 3.65rem);
	letter-spacing: 1px;
	font-weight: 700;
	text-align: center;
	margin: .5rem 0 1.1rem;
	color: var(--color-primary-dark);
}

.session-status-badge {
	font-size: .7rem;
	letter-spacing: .5px;
	text-transform: uppercase;
	font-weight: 700;
	padding: .35rem .55rem;
	border-radius: 999px;
	background: #dfe3e8;
	color: #344054;
	display: inline-flex;
	align-items: center;
	gap: .4rem;
}

.session-actions { display: flex; justify-content: center; gap: .8rem; flex-wrap: wrap; align-items: center; }

[data-theme="dark"] .session-status-badge { background: #2a2f37; color: #d4d7db; }
.session-status-badge.active { background: var(--color-primary); color: #fff; }
.session-status-badge.finalizing { background: var(--color-secondary); color: #fff; }

.active-session-form { display: flex; flex-direction: column; gap: .9rem; }

.form-row { display: flex; flex-direction: column; gap: .4rem; }
.form-row.inline { flex-direction: row; align-items: center; }
.form-row span.form-label { font-size: .75rem; font-weight: 600; letter-spacing: .5px; text-transform: uppercase; opacity: .8; }
.form-label { font-family: var(--font-main); font-size: .8rem; font-weight: 600; letter-spacing: .5px; text-transform: uppercase; color: var(--color-muted); }
.form-label.small { font-size: .68rem; }

.active-session-form input[type=text],
#manual-log-form input[type=text],
#manual-log-form input[type=number],
#manual-log-form input[type=date],
#finalize-form input[type=date],
#goal-input,
textarea#manual-notes,
textarea#final-notes,
textarea {
	background: var(--input-color);
	border: 1px solid var(--color-border);
	border-radius: 8px;
	padding: .65rem .7rem;
	font-size: .9rem;
	font-family: var(--font-main);
	resize: vertical;
}

/* date picker styling */
input[type=date] {
	padding-right: 2rem;
	position: relative;
	line-height: 1.2;
	color: var(--color-text);
	/* Force consistent height with other inputs */
	padding-top: .65rem;
	padding-bottom: .65rem;
}
input[type=date]::-webkit-calendar-picker-indicator {
	background: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20class%3D%22lucide%20lucide-calendar-days-icon%20lucide-calendar-days%22%3E%3Cpath%20d%3D%22M8%202v4%22%2F%3E%3Cpath%20d%3D%22M16%202v4%22%2F%3E%3Crect%20width%3D%2218%22%20height%3D%2218%22%20x%3D%223%22%20y%3D%224%22%20rx%3D%222%22%2F%3E%3Cpath%20d%3D%22M3%2010h18%22%2F%3E%3Cpath%20d%3D%22M8%2014h.01%22%2F%3E%3Cpath%20d%3D%22M12%2014h.01%22%2F%3E%3Cpath%20d%3D%22M16%2014h.01%22%2F%3E%3Cpath%20d%3D%22M8%2018h.01%22%2F%3E%3Cpath%20d%3D%22M12%2018h.01%22%2F%3E%3Cpath%20d%3D%22M16%2018h.01%22%2F%3E%3C%2Fsvg%3E") center/18px 18px no-repeat;
	opacity: .75; cursor: pointer; width: 20px; height: 20px; border-radius: 4px; }
input[type=date]:hover::-webkit-calendar-picker-indicator { opacity: 1; }
input[type=date]:focus { outline: 2px solid var(--color-primary); outline-offset: 2px; }

/* buttons */
.primary-btn, .secondary-btn, .success-btn, .danger-btn { width: auto; margin: 0; font-size: .85rem; font-weight: 600; letter-spacing: .5px; }
.primary-btn { background: var(--color-primary); }
.primary-btn:hover { background: var(--color-primary-dark); }
.secondary-btn { background: var(--color-light-bg); color: var(--color-text); }
.secondary-btn:hover { background: var(--color-hover-bg); }
.secondary-btn.small { padding: .5rem .9rem; }
.success-btn { background: var(--color-success, #2e7d32); }
.success-btn:hover { background: var(--color-success-dark, #256428); }
.secondary-btn.small { padding: .5rem .9rem; }
.danger-btn { background: var(--color-danger); }
.danger-btn:hover { background: var(--color-danger-dark); }

.hidden { display: none !important; }

.session-hint { font-size: .68rem; text-transform: uppercase; letter-spacing: .5px; opacity: .65; margin-top: 2rem; }

/* manual logging form */
.manual-log-form { display: flex; flex-direction: column; gap: 1rem; }
.form-grid { display: grid; grid-template-columns: repeat(2,1fr); gap: 1rem 1.25rem; }
.form-grid .span-2 { grid-column: span 2; }
@media (max-width: 620px) { .form-grid { grid-template-columns: 1fr; } .form-grid .span-2 { grid-column: span 1; } }

.form-actions { display: flex; justify-content: flex-end; }

.collapse-toggle { background: none; color: var(--color-primary); width: auto; font-size: .7rem; text-transform: uppercase; letter-spacing: .5px; padding: .4rem .65rem; border-radius: 6px; border: 1px solid var(--color-primary); }
.collapse-toggle:hover { background: var(--color-primary); color: #fff; }

/* summary card */
.summary-body { display: flex; flex-direction: column; gap: 1.1rem; }
.progress-row { display: flex; flex-direction: column; gap: .55rem; }
.progress-labels { display: flex; justify-content: space-between; font-size: .7rem; font-weight: 600; letter-spacing: .5px; text-transform: uppercase; opacity: .8; }
.progress-bar-wrapper { background: var(--color-light-bg); border-radius: 8px; overflow: hidden; height: 10px; position: relative; }
.progress-bar { height: 100%; width: 0%; background: linear-gradient(90deg,var(--color-primary),var(--color-secondary)); transition: width .4s cubic-bezier(.4,.0,.2,1); }

.stats-grid { display: grid; grid-template-columns: repeat(2,1fr); gap: .9rem .8rem; }
.stats-grid.two-cols { grid-template-columns: repeat(2,1fr); }
.stat-item { display: flex; flex-direction: column; background: var(--color-light-bg); border: 1px solid var(--color-border); padding: .65rem .75rem; border-radius: 10px; gap: .3rem; }
.stat-label { font-size: .6rem; font-weight: 600; letter-spacing: .5px; text-transform: uppercase; opacity: .7; }
.stat-value { font-size: .95rem; font-weight: 600; font-family: var(--font-tech,monospace); }

.goal-setter { display: flex; flex-direction: column; gap: .4rem; margin-top: .2rem; }
.goal-row { display: flex; gap: .6rem; }
.goal-row input { flex: 1; }

.refresh-btn { background: var(--color-light-bg); color: var(--color-text); width: auto; padding: .45rem .7rem; font-size: .75rem; border-radius: 8px; }
.refresh-btn:hover { background: var(--color-hover-bg); }
.refresh-btn svg { width: 18px; height: 18px; display: block; }
.refresh-btn:active { transform: scale(.94); }
.refresh-btn.loading { opacity: .6; pointer-events: none; }

/* recent sessions card */
.recent-list { list-style: none; margin: 0; padding: 0; display: flex; flex-direction: column; gap: .7rem; max-height: 420px; overflow-y: auto; }
.recent-list li { border: 1px solid var(--color-border); background: var(--color-light-bg); padding: .6rem .7rem .65rem; border-radius: 10px; display: flex; flex-direction: column; gap: .35rem; position: relative; }
.recent-list li .recent-top { display: flex; justify-content: space-between; align-items: center; gap: 1rem; }
.recent-list li .piece { font-weight: 600; font-size: .85rem; }
.recent-list li .meta { font-size: .62rem; letter-spacing: .4px; text-transform: uppercase; opacity: .7; display: flex; gap: .6rem; flex-wrap: wrap; }
.recent-list li .tags { display: flex; gap: .3rem; flex-wrap: wrap; }
.recent-list li .tag { background: var(--color-primary); color: #fff; font-size: .55rem; padding: .2rem .45rem; border-radius: 4px; font-weight: 600; letter-spacing: .4px; text-transform: uppercase; }
.recent-list li.empty { text-align: center; font-size: .8rem; opacity: .7; }

[data-theme="dark"] .recent-list li { background: #1f1f1f; }

/* modal */
.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,.45); display: flex; align-items: flex-start; justify-content: center; padding: 3.5vh 1rem 1.4rem; z-index: 4000; overflow-y: auto; }
.modal { background: var(--container-color); width: 100%; max-width: 380px; border-radius: 18px; padding: 1rem 1.1rem .9rem; box-shadow: 0 10px 30px rgba(0,0,0,.28); display: flex; flex-direction: column; gap: .55rem; position: relative; }
.modal.compact-modal { max-width: 300px; padding: .9rem .95rem .8rem; }
@media (min-width: 820px) { .modal.compact-modal { max-width: 20%; max-height: 50%; transform: translateY(50%); } }
.modal-header { display: flex; justify-content: space-between; align-items: center; }
.modal-header h2 { font-size: 1.1rem; margin: 0; font-weight: 600; }
.modal-body { display: flex; flex-direction: column; gap: .55rem; }
.modal-footer { margin-top: .2rem; }
.summary-line { margin-bottom: .15rem; }
.modal-footer { display: flex; justify-content: flex-end; gap: .75rem; margin-top: .4rem; }
.close-btn { background: none; color: var(--color-text); width: auto; font-size: 1.3rem; line-height: 1; padding: .25rem .55rem; }
.close-btn:hover { background: var(--color-hover-bg); }

.summary-line { display: flex; justify-content: space-between; font-size: .85rem; font-weight: 600; background: var(--color-light-bg); padding: .55rem .75rem; border-radius: 10px; }
.summary-line.large { font-size: 1rem; }

/* --- Practice summary enhancements --- */
.insights { display: flex; flex-direction: column; gap: .4rem; margin-top: .3rem; font-size: .65rem; letter-spacing: .4px; text-transform: uppercase; opacity: .75; }
.insight-line { background: var(--color-light-bg); border: 1px solid var(--color-border); padding: .45rem .55rem; border-radius: 8px; font-weight: 600; }

@media (min-width: 901px) {
  #summary-card, #manual-log-card { display: flex; flex-direction: column; }
  #summary-card { height: 100%; }
  #manual-log-card { height: 100%; }
  .practice-layout { align-items: stretch; }
}

/* utility */
.fade-in { animation: fadeIn .25s ease; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(4px); } to { opacity:1; transform: translateY(0);} }

/* scrollbar styling */
.recent-list::-webkit-scrollbar { width: 8px; }
.recent-list::-webkit-scrollbar-track { background: transparent; }
.recent-list::-webkit-scrollbar-thumb { background: var(--color-border); border-radius: 4px; }
[data-theme="dark"] .recent-list::-webkit-scrollbar-thumb { background: #444; }

